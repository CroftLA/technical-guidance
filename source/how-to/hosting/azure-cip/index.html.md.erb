---
title: Azure CIP
weight:
---

# <%= current_page.data.title %>

<%= partial('partials/page_toc') %>

It is based on Azure and provides preconfigured subscriptions including security guardrails.

It provides access to most of Azure resources including app services, container instances, virtual networks, managed databases, front door, key vault, storage accounts…

It can be used for any workload, especially ones which don’t fit on Gov.uk paas. It can also be used alongsite paas to complement it. For example: to store secrets, terraform state, backups…

Portal: [https://portal.azure.com/](https://portal.azure.com/)

## Documentation
* [CIP platform docs](https://docs.platform.education.gov.uk/index.html)

## Onboarding users
Use the service portal (service now) to create the onboarding request:

1. Request something
1. CIP Request
1. Requested for: requester name (not the new user)
1. Request type: Access to CIP Azure Portal/DevOps
1. Add
1. New users' email addresses

If access to the service portal is not possible, ask the service desk (0300 1234 888) to "Invite --username-- to the CIP AAD. FAO of the Infrastructure Operations Team"

Ask in #cloud-platform if more help is required.

The new user will receive an invitation by email. Then the service managers can add them to the service Active Directory groups of the subscriptions: Managers and Delivery team.

To access Azure Devops, the new user must access [Azure DevOps](https://dev.azure.com/dfe-ssp/). This will register them in the system then the service owner can add them to the project.

## Onboarding a service
Use the service portal (service now) to create the onboarding request. It should be filled in by a senior civil servant (G7). This includes an on-boarding form to attach. Finance must be agreed beforehand.

You will be given:

* 3 default subscriptions: dev, test and production
* 3 Active directory groups: Reader (read only), Delivery team (developers) and Managers (can approve PIM requests). The original requestor will be owner of these groups.
* PIM (Privileged Identity Management) set up: members of the Delivery team can elevate their access themselves in staging, and request approval from a Manager in production.
* A new project in Azure Devops dfe-ssp organisation

## Azure Devops
This is the default platform for automation and continuous integration in DfE.

Portal: [Azure Devops](https://dev.azure.com/dfe-ssp/)

It is mainly used to run pipelines and it makes sense to use it for CIP deployments as it’s tightly integrated to Azure.

**Note**: the manually created release pipelines are deprecated. Any new pipeline should be created as code in yaml and stored in a git repository.

New integrations may be requested for inclusion. Ask in #cloud-platform for details.

## Azure Development
Deployments should always be done via infrastructure as code. We recommend using [ARM templates](https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/overview):

* Declarative syntax
* Up-to-date with all Azure features
* Widely used within DfE

We maintain a repository with all required building blocks: [DFE-Digital/bat-platform-building-blocks.](https://github.com/DFE-Digital/bat-platform-building-blocks) All Azure resources built via ARM templates should be created there by default.

The service-specific ARM templates should be kept simple and only instantiate the building blocks.

## Access from/to Internet
Static public IPs are not permitted by default in CIP. Instead, Azure provides unique domain names but the IP may change.

Should you require a static IP, it is possible to request an [Internet Access Service](https://c111cps-docs-as-01.azurewebsites.net/services/platform-integration-services/internet-access-service/index.html). It provides routing from/to the internet via a static IP and a firewall. URLs accessed via the firewall must be whitelisted.

Contact #cloud-platform to set it up.
